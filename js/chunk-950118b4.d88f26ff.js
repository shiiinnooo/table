(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-950118b4"],{"1dde":function(e,t,n){var c=n("d039"),o=n("b622"),r=n("2d00"),a=o("species");e.exports=function(e){return r>=51||!c((function(){var t=[],n=t.constructor={};return n[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"4d1d":function(e,t,n){"use strict";n.r(t);n("a9e3");var c=n("7a23"),o=function(e){return Object(c["pushScopeId"])("data-v-5f4c82e2"),e=e(),Object(c["popScopeId"])(),e},r={class:"shopping-bag container-lg bg-white my-4 px-4 pb-4 px-sm-5"},a=o((function(){return Object(c["createElementVNode"])("h2",{class:"py-4 fw-bold",style:{"font-family":"'Playfair Display', 'Noto Sans TC', serif","letter-spacing":"0.8px"}}," Your shopping bag ",-1)})),i={key:0},s=o((function(){return Object(c["createElementVNode"])("p",{class:"text-center py-5"},"購物車無商品",-1)})),l={key:1},u={class:"col-4 col-md-3 text-md-center"},d=["src","onClick"],p={class:"col-8 col-md-5 col-lg-6 ps-0 ps-lg-3 d-flex flex-column justify-content-center"},f={class:"m-0 p-0"},b=["onClick"],m={class:"m-0 p-0"},g=Object(c["createTextVNode"])(" 單價 "),h={key:0,class:"text-decoration-line-through me-1"},y={class:"m-0 p-0"},v=Object(c["createTextVNode"])(" 小計 "),O={class:"col-12 col-md-4 col-lg-3 py-3 py-md-0 d-flex flex-column justify-content-center"},j={class:"input-group w-100"},N=["onClick"],E=["onUpdate:modelValue"],k=["onClick"],x=["onClick"],V={class:"text-end py-3"},C=Object(c["createTextVNode"])(" 總計: "),w={class:"fs-3 fw-bold"},I={class:"text-sm-end d-none d-md-block"},S=Object(c["createTextVNode"])(" Continue "),T=o((function(){return Object(c["createElementVNode"])("span",{class:"material-icons-outlined fs-6 align-middle"}," east ",-1)})),A=[S,T],_={class:"d-block d-md-none"},B=Object(c["createTextVNode"])(" Continue "),M=o((function(){return Object(c["createElementVNode"])("span",{class:"material-icons-outlined fs-6 align-middle"}," east ",-1)})),$=[B,M];function F(e,t,n,o,S,T){var B,M=Object(c["resolveComponent"])("loading");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createElementVNode"])("div",r,[a,null!==(B=S.carts.carts)&&void 0!==B&&B.length?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(S.carts.carts,(function(t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"row border-bottom py-3",key:t.id},[Object(c["createElementVNode"])("div",u,[Object(c["createElementVNode"])("img",{src:t.product.imageUrl,onClick:Object(c["withModifiers"])((function(n){return e.$router.push("/product/".concat(t.product_id))}),["prevent"]),style:{cursor:"pointer"}},null,8,d)]),Object(c["createElementVNode"])("div",p,[Object(c["createElementVNode"])("p",f,[Object(c["createElementVNode"])("a",{href:"#",class:"text-dark text-decoration-underline",onClick:Object(c["withModifiers"])((function(n){return e.$router.push("/product/".concat(t.product_id))}),["prevent"])},Object(c["toDisplayString"])(t.product.title),9,b)]),Object(c["createElementVNode"])("p",m,[g,t.product.price!==t.product.origin_price?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",h," NT. "+Object(c["toDisplayString"])(e.toCurrency(Number(t.product.origin_price))),1)):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("span",{class:Object(c["normalizeClass"])({"text-danger":t.product.price!==t.product.origin_price})}," NT. "+Object(c["toDisplayString"])(e.toCurrency(Number(t.product.price))),3)]),Object(c["createElementVNode"])("p",y,[v,Object(c["createElementVNode"])("span",null,"NT. "+Object(c["toDisplayString"])(e.toCurrency(Number(t.total))),1)])]),Object(c["createElementVNode"])("div",O,[Object(c["createElementVNode"])("div",j,[Object(c["createElementVNode"])("button",{class:Object(c["normalizeClass"])([{disabled:1===t.qty},"btn btn-outline-secondary py-1 rounded-start"]),type:"button",onClick:function(e){return T.updateCart(t,"minus")}}," - ",10,N),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control bg-white border-secondary text-center py-1","onUpdate:modelValue":function(e){return t.qty=e},readonly:""},null,8,E),[[c["vModelText"],t.qty,void 0,{number:!0}]]),Object(c["createElementVNode"])("button",{class:"btn btn-outline-secondary py-1 rounded-end",type:"button",onClick:function(e){return T.updateCart(t,"plus")}}," + ",8,k)]),Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary btn-sm mt-2 py-1 rounded d-inline-block d-md-block",onClick:function(e){return T.delCartItem(t.id)}}," 刪除 ",8,x)])])})),128)),Object(c["createElementVNode"])("p",V,[C,Object(c["createElementVNode"])("span",w," NT. "+Object(c["toDisplayString"])(e.toCurrency(Number(S.carts.total))),1)]),Object(c["createElementVNode"])("div",I,[Object(c["createElementVNode"])("button",{class:"btn btn-primary rounded w-25",type:"button",onClick:t[1]||(t[1]=function(t){return e.$router.push("/checkout/step2")})},A)]),Object(c["createElementVNode"])("div",_,[Object(c["createElementVNode"])("button",{class:"btn btn-primary rounded w-100",type:"button",onClick:t[2]||(t[2]=function(t){return e.$router.push("/checkout/step2")})},$)])])):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",i,[s,Object(c["createElementVNode"])("button",{class:"btn btn-primary rounded w-100 py-2",type:"button",onClick:t[0]||(t[0]=function(t){return e.$router.push("/product")})}," 前往購物 ")]))]),Object(c["createVNode"])(M,{active:S.isLoading,"is-full-page":S.fullPage},null,8,["active","is-full-page"])],64)}n("99af");var L=n("e4f3"),D={data:function(){return{carts:{},isLoading:!1,fullPage:!0}},methods:{getCarts:function(){var e=this;this.loadingShow();var t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("smile0919a","/cart");this.$http.get(t).then((function(t){t.data.success&&(e.carts=t.data.data,e.loadingHide())}))},delCartItem:function(e){var t=this;this.loadingShow();var n="".concat("https://vue3-course-api.hexschool.io","/api/").concat("smile0919a","/cart/").concat(e);this.$http.delete(n).then((function(e){e.data.success&&(t.getCarts(),L["a"].emit("update-cart"),L["a"].emit("get-cart-offcanvas"),t.loadingHide())}))},updateCart:function(e,t){var n=this;this.loadingShow();var c=0;c="plus"===t?e.qty+1:e.qty-1;var o="".concat("https://vue3-course-api.hexschool.io","/api/").concat("smile0919a","/cart/").concat(e.id),r={product_id:e.product.id,qty:c};this.$http.put(o,{data:r}).then((function(e){e.data.success&&(n.getCarts(),L["a"].emit("update-cart"),L["a"].emit("get-cart-offcanvas"),n.loadingHide())}))},loadingShow:function(){this.isLoading=!0},loadingHide:function(){this.isLoading=!1}},created:function(){this.getCarts()}},q=(n("6560"),n("6b0d")),P=n.n(q);const U=P()(D,[["render",F],["__scopeId","data-v-5f4c82e2"]]);t["default"]=U},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var c=n("1d80"),o=n("5899"),r="["+o+"]",a=RegExp("^"+r+r+"*"),i=RegExp(r+r+"*$"),s=function(e){return function(t){var n=String(c(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(i,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},6560:function(e,t,n){"use strict";n("a89b")},"65f0":function(e,t,n){var c=n("861d"),o=n("e8b5"),r=n("b622"),a=r("species");e.exports=function(e,t){var n;return o(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?c(n)&&(n=n[a],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},7156:function(e,t,n){var c=n("861d"),o=n("d2bb");e.exports=function(e,t,n){var r,a;return o&&"function"==typeof(r=t.constructor)&&r!==n&&c(a=r.prototype)&&a!==n.prototype&&o(e,a),e}},8418:function(e,t,n){"use strict";var c=n("c04e"),o=n("9bf2"),r=n("5c6c");e.exports=function(e,t,n){var a=c(t);a in e?o.f(e,a,r(0,n)):e[a]=n}},"99af":function(e,t,n){"use strict";var c=n("23e7"),o=n("d039"),r=n("e8b5"),a=n("861d"),i=n("7b0b"),s=n("50c4"),l=n("8418"),u=n("65f0"),d=n("1dde"),p=n("b622"),f=n("2d00"),b=p("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",h=f>=51||!o((function(){var e=[];return e[b]=!1,e.concat()[0]!==e})),y=d("concat"),v=function(e){if(!a(e))return!1;var t=e[b];return void 0!==t?!!t:r(e)},O=!h||!y;c({target:"Array",proto:!0,forced:O},{concat:function(e){var t,n,c,o,r,a=i(this),d=u(a,0),p=0;for(t=-1,c=arguments.length;t<c;t++)if(r=-1===t?a:arguments[t],v(r)){if(o=s(r.length),p+o>m)throw TypeError(g);for(n=0;n<o;n++,p++)n in r&&l(d,p,r[n])}else{if(p>=m)throw TypeError(g);l(d,p++,r)}return d.length=p,d}})},a89b:function(e,t,n){},a9e3:function(e,t,n){"use strict";var c=n("83ab"),o=n("da84"),r=n("94ca"),a=n("6eeb"),i=n("5135"),s=n("c6b6"),l=n("7156"),u=n("c04e"),d=n("d039"),p=n("7c73"),f=n("241c").f,b=n("06cf").f,m=n("9bf2").f,g=n("58a8").trim,h="Number",y=o[h],v=y.prototype,O=s(p(v))==h,j=function(e){var t,n,c,o,r,a,i,s,l=u(e,!1);if("string"==typeof l&&l.length>2)if(l=g(l),t=l.charCodeAt(0),43===t||45===t){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:c=2,o=49;break;case 79:case 111:c=8,o=55;break;default:return+l}for(r=l.slice(2),a=r.length,i=0;i<a;i++)if(s=r.charCodeAt(i),s<48||s>o)return NaN;return parseInt(r,c)}return+l};if(r(h,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var N,E=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof E&&(O?d((function(){v.valueOf.call(n)})):s(n)!=h)?l(new y(j(t)),n,E):j(t)},k=c?f(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),x=0;k.length>x;x++)i(y,N=k[x])&&!i(E,N)&&m(E,N,b(y,N));E.prototype=v,v.constructor=E,a(o,h,E)}},e4f3:function(e,t,n){"use strict";var c=function(e){return{all:e=e||new Map,on:function(t,n){var c=e.get(t);c?c.push(n):e.set(t,[n])},off:function(t,n){var c=e.get(t);c&&(n?c.splice(c.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var c=e.get(t);c&&c.slice().map((function(e){e(n)})),(c=e.get("*"))&&c.slice().map((function(e){e(t,n)}))}}},o=c();t["a"]=o},e8b5:function(e,t,n){var c=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==c(e)}}}]);
//# sourceMappingURL=chunk-950118b4.d88f26ff.js.map