(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-047f2dff"],{"1dde":function(e,t,r){var n=r("d039"),a=r("b622"),o=r("2d00"),c=a("species");e.exports=function(e){return o>=51||!n((function(){var t=[],r=t.constructor={};return r[c]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,r){var n=r("861d"),a=r("e8b5"),o=r("b622"),c=o("species");e.exports=function(e,t){var r;return a(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!a(r.prototype)?n(r)&&(r=r[c],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},7580:function(e,t,r){"use strict";r("901a")},8418:function(e,t,r){"use strict";var n=r("c04e"),a=r("9bf2"),o=r("5c6c");e.exports=function(e,t,r){var c=n(t);c in e?a.f(e,c,o(0,r)):e[c]=r}},"901a":function(e,t,r){},"99af":function(e,t,r){"use strict";var n=r("23e7"),a=r("d039"),o=r("e8b5"),c=r("861d"),l=r("7b0b"),s=r("50c4"),i=r("8418"),d=r("65f0"),u=r("1dde"),f=r("b622"),m=r("2d00"),b=f("isConcatSpreadable"),p=9007199254740991,v="Maximum allowed index exceeded",O=m>=51||!a((function(){var e=[];return e[b]=!1,e.concat()[0]!==e})),j=u("concat"),h=function(e){if(!c(e))return!1;var t=e[b];return void 0!==t?!!t:o(e)},V=!O||!j;n({target:"Array",proto:!0,forced:V},{concat:function(e){var t,r,n,a,o,c=l(this),u=d(c,0),f=0;for(t=-1,n=arguments.length;t<n;t++)if(o=-1===t?c:arguments[t],h(o)){if(a=s(o.length),f+a>p)throw TypeError(v);for(r=0;r<a;r++,f++)r in o&&i(u,f,o[r])}else{if(f>=p)throw TypeError(v);i(u,f++,o)}return u.length=f,u}})},b0c0:function(e,t,r){var n=r("83ab"),a=r("9bf2").f,o=Function.prototype,c=o.toString,l=/^\s*function ([^ (]*)/,s="name";n&&!(s in o)&&a(o,s,{configurable:!0,get:function(){try{return c.call(this).match(l)[1]}catch(e){return""}}})},e4f3:function(e,t,r){"use strict";var n=function(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map((function(e){e(r)})),(n=e.get("*"))&&n.slice().map((function(e){e(t,r)}))}}},a=n();t["a"]=a},e8b5:function(e,t,r){var n=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},ea06:function(e,t,r){"use strict";r.r(t);r("b0c0");var n=r("7a23"),a=function(e){return Object(n["pushScopeId"])("data-v-4d2edf75"),e=e(),Object(n["popScopeId"])(),e},o={class:"shopping-info bg-white container-lg mt-4 px-4 pb-4 px-sm-5"},c=a((function(){return Object(n["createElementVNode"])("h2",{class:"py-4 fw-bold",style:{"font-family":"'Playfair Display', 'Noto Sans TC', serif","letter-spacing":"0.8px"}}," Shipping info ",-1)})),l={class:"justify-content-center"},s={class:"mb-3"},i=a((function(){return Object(n["createElementVNode"])("label",{for:"email",class:"form-label"},"E-mail",-1)})),d={class:"mb-3"},u=a((function(){return Object(n["createElementVNode"])("label",{for:"name",class:"form-label"},"收件人姓名",-1)})),f={class:"mb-3"},m=a((function(){return Object(n["createElementVNode"])("label",{for:"tel",class:"form-label"},"收件人手機號碼",-1)})),b={class:"mb-3"},p=a((function(){return Object(n["createElementVNode"])("label",{for:"address",class:"form-label"},"收件人地址",-1)})),v={class:"mb-3"},O=a((function(){return Object(n["createElementVNode"])("label",{for:"message",class:"form-label"},"留言",-1)})),j={class:"d-flex justify-content-between"},h=a((function(){return Object(n["createElementVNode"])("span",{class:"material-icons-outlined fs-6 align-middle"}," west ",-1)})),V=Object(n["createTextVNode"])(" 修改訂單 "),g=[h,V],N=a((function(){return Object(n["createElementVNode"])("button",{type:"submit",class:"btn btn-primary rounded"},"建立訂單",-1)}));function y(e,t,r,a,h,V){var y=Object(n["resolveComponent"])("Field"),E=Object(n["resolveComponent"])("ErrorMessage"),w=Object(n["resolveComponent"])("Form"),x=Object(n["resolveComponent"])("loading");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createElementVNode"])("div",o,[c,Object(n["createElementVNode"])("div",l,[Object(n["createVNode"])(w,{ref:"form",onSubmit:V.createOrder},{default:Object(n["withCtx"])((function(e){var r=e.errors;return[Object(n["createElementVNode"])("div",s,[i,Object(n["createVNode"])(y,{id:"email",name:"Email",placeholder:"請輸入 E-mail",type:"email",class:Object(n["normalizeClass"])(["form-control",{"is-invalid":r["Email"],"is-valid":!r["Email"]&&h.form.user.email}]),rules:"email|required",modelValue:h.form.user.email,"onUpdate:modelValue":t[0]||(t[0]=function(e){return h.form.user.email=e})},null,8,["modelValue","class"]),Object(n["createVNode"])(E,{name:"Email",class:"invalid-feedback"})]),Object(n["createElementVNode"])("div",d,[u,Object(n["createVNode"])(y,{id:"name",name:"姓名",type:"text",class:Object(n["normalizeClass"])(["form-control",{"is-invalid":r["姓名"],"is-valid":!r["姓名"]&&h.form.user.name}]),rules:"required",placeholder:"請輸入姓名",modelValue:h.form.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return h.form.user.name=e})},null,8,["modelValue","class"]),Object(n["createVNode"])(E,{name:"姓名",class:"invalid-feedback"})]),Object(n["createElementVNode"])("div",f,[m,Object(n["createVNode"])(y,{id:"tel",name:"電話",type:"text",class:Object(n["normalizeClass"])(["form-control",{"is-invalid":r["電話"],"is-valid":!r["電話"]&&h.form.user.tel}]),rules:V.isPhone,placeholder:"請輸入手機號碼",modelValue:h.form.user.tel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return h.form.user.tel=e})},null,8,["rules","modelValue","class"]),Object(n["createVNode"])(E,{name:"電話",class:"invalid-feedback"})]),Object(n["createElementVNode"])("div",b,[p,Object(n["createVNode"])(y,{id:"address",name:"地址",type:"text",class:Object(n["normalizeClass"])(["form-control",{"is-invalid":r["地址"],"is-valid":!r["地址"]&&h.form.user.address}]),rules:"required",placeholder:"請輸入地址",modelValue:h.form.user.address,"onUpdate:modelValue":t[3]||(t[3]=function(e){return h.form.user.address=e})},null,8,["modelValue","class"]),Object(n["createVNode"])(E,{name:"地址",class:"invalid-feedback"})]),Object(n["createElementVNode"])("div",v,[O,Object(n["withDirectives"])(Object(n["createElementVNode"])("textarea",{name:"",id:"message",class:"form-control",cols:"20",rows:"5",placeholder:"備註","onUpdate:modelValue":t[4]||(t[4]=function(e){return h.form.message=e})},null,512),[[n["vModelText"],h.form.message]])]),Object(n["createElementVNode"])("div",j,[Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary rounded",onClick:t[5]||(t[5]=function(){return V.goBack&&V.goBack.apply(V,arguments)})},g),N])]})),_:1},8,["onSubmit"])])]),Object(n["createVNode"])(x,{active:h.isLoading,"is-full-page":h.fullPage},null,8,["active","is-full-page"])],64)}r("99af");var E=r("e4f3"),w={data:function(){return{form:{user:{name:"",email:"",tel:"",address:""},message:""},isLoading:!1,fullPage:!0}},methods:{isPhone:function(e){var t=/^(09)[0-9]{8}$/;return e?!!t.test(e)||"手機號碼格式不正確":"手機號碼 為必填"},createOrder:function(){var e=this;this.loadingShow();var t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("smile0919a","/order");this.$http.post(t,{data:this.form}).then((function(t){if(t.data.success){E["a"].emit("update-cart"),E["a"].emit("get-cart-offcanvas");var r=t.data.orderId;e.$refs.form.resetForm(),e.form={user:{name:"",email:"",tel:"",address:""},message:""},e.$router.push("/checkout/step3/".concat(r))}}))},goBack:function(){this.$router.back()},loadingShow:function(){this.isLoading=!0},loadingHide:function(){this.isLoading=!1}}},x=(r("7580"),r("6b0d")),k=r.n(x);const C=k()(w,[["render",y],["__scopeId","data-v-4d2edf75"]]);t["default"]=C}}]);
//# sourceMappingURL=chunk-047f2dff.c79a29c8.js.map