{"version":3,"sources":["webpack:///./src/views/Dashboard/Index.vue","webpack:///./src/views/Dashboard/Index.vue?9fd6"],"names":["class","style","to","loginStatus","logout","active","isLoading","is-full-page","fullPage","data","methods","checkLogin","token","document","cookie","replace","this","$http","defaults","headers","common","Authorization","api","post","then","res","success","alert","message","$router","push","loadingShow","loadingHide","created","__exports__","render"],"mappings":"0IACOA,MAAM,mB,GACJA,MAAM,O,GACJA,MAAM,2BAA2BC,MAAA,wB,GAChCD,MAAM,YAAYC,MAAA,gD,+BACqC,S,GAEtDD,MAAM,c,+BAKN,Q,+BASA,Q,GAIFA,MAAM,e,GACJA,MAAM,uB,SACgBA,MAAM,Q,yPA1BvC,gCAgCM,MAhCN,EAgCM,CA/BJ,gCA8BM,MA9BN,EA8BM,CA7BJ,gCAqBM,MArBN,EAqBM,CApBJ,gCAEK,KAFL,EAEK,CADH,yBAA4E,GAA/DA,MAAM,kBAAkBE,GAAG,kB,+BAAiB,iBAAK,C,cAEhE,gCAgBM,MAhBN,EAgBM,CAfJ,yBAKC,GAJCA,GAAG,iBACHF,MAAM,+C,+BAEL,iBAAI,C,YAEP,yBAQC,GAPCE,GAAG,eACHF,MAAM,+C,+BAKL,iBAAI,C,gBAIX,gCAMM,MANN,EAMM,CALJ,gCAGM,MAHN,EAGM,CAFQ,EAAAG,a,yBAAZ,gCAAkD,OAAlD,EAAsC,U,uCACtC,gCAA0E,UAAlEH,MAAM,iCAAkC,QAAK,8BAAE,EAAAI,QAAA,EAAAA,OAAA,sBAAQ,QAEjE,yBAA2B,SAIjC,yBAC4B,GADlBC,OAAQ,EAAAC,UACfC,eAAc,EAAAC,U,+DAIJ,GACbC,KADa,WAEX,MAAO,CACLN,aAAa,EACbG,WAAW,EACXE,UAAU,IAGdE,QAAS,CACPC,WADO,WACM,WAELC,EAAQC,SAASC,OAAOC,QAAQ,+CAAgD,MACtF,GAAIH,EAAO,CACTI,KAAKC,MAAMC,SAASC,QAAQC,OAAOC,cAAgBT,EACnD,IAAMU,EAAE,UAAO,uCAAP,mBACRN,KAAKC,MAAMM,KAAKD,GAAKE,MAAK,SAACC,GACrBA,EAAIhB,KAAKiB,QACX,EAAKvB,aAAc,GAGnBwB,MAAMF,EAAIhB,KAAKmB,SACf,EAAKzB,aAAc,EACnB,EAAK0B,QAAQC,KAAK,mBAKtBH,MAAM,QACNX,KAAKb,aAAc,EACnBa,KAAKa,QAAQC,KAAK,WAGtB1B,OAxBO,WAwBE,WACPY,KAAKe,cACLf,KAAKb,aAAc,EACnB,IAAMmB,EAAE,UAAO,uCAAP,WACRN,KAAKC,MAAMM,KAAKD,GAAKE,MAAK,SAACC,GACrBA,EAAIhB,KAAKiB,SACX,EAAKvB,aAAc,EACnB,EAAK0B,QAAQC,KAAK,WAGlBH,MAAMF,EAAIhB,KAAKmB,aAIrBG,YAtCO,WAuCLf,KAAKV,WAAY,GAEnB0B,YAzCO,WA0CLhB,KAAKV,WAAY,IAGrB2B,QArDa,WAsDXjB,KAAKL,e,qBCxFT,MAAMuB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d230093.bdd1838b.js","sourcesContent":["<template>\n  <div class=\"container-fluid\">\n    <div class=\"row\">\n      <div class=\"col-2 bg-dark text-white\" style=\"min-height: 100vh\">\n        <h1 class=\"fs-3 py-4\" style=\"font-weight: 600; letter-spacing: 1.5px\">\n          <router-link class=\"text-white fs-3\" to=\"/admin/product\">TAbLe</router-link>\n        </h1>\n        <div class=\"list-group\">\n          <router-link\n            to=\"/admin/product\"\n            class=\"list-group-item\n            bg-dark text-white border-0\"\n            >產品列表</router-link\n          >\n          <router-link\n            to=\"/admin/order\"\n            class=\"\n              list-group-item\n              bg-dark text-white\n              border-0\n            \"\n            >訂單管理</router-link\n          >\n        </div>\n      </div>\n      <div class=\"col-10 px-5\">\n        <div class=\"login text-end my-3\">\n          <span v-if=\"loginStatus\" class=\"px-2\">已登入 /</span>\n          <button class=\"btn btn-secondary rounded py-1\" @click=\"logout\">登出</button>\n        </div>\n        <router-view></router-view>\n      </div>\n    </div>\n  </div>\n  <loading :active=\"isLoading\"\n    :is-full-page=\"fullPage\"/>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      loginStatus: false,\n      isLoading: false,\n      fullPage: true,\n    };\n  },\n  methods: {\n    checkLogin() {\n      // eslint-disable-next-line no-useless-escape\n      const token = document.cookie.replace(/(?:(?:^|.*;\\s*)token\\s*\\=\\s*([^;]*).*$)|^.*$/, '$1');\n      if (token) {\n        this.$http.defaults.headers.common.Authorization = token;\n        const api = `${process.env.VUE_APP_API}/api/user/check`;\n        this.$http.post(api).then((res) => {\n          if (res.data.success) {\n            this.loginStatus = true;\n          } else {\n            // eslint-disable-next-line no-alert\n            alert(res.data.message);\n            this.loginStatus = false;\n            this.$router.push('/login');\n          }\n        });\n      } else {\n        // eslint-disable-next-line no-alert\n        alert('尚未登入');\n        this.loginStatus = false;\n        this.$router.push('/login');\n      }\n    },\n    logout() {\n      this.loadingShow();\n      this.loginStatus = true;\n      const api = `${process.env.VUE_APP_API}/logout`;\n      this.$http.post(api).then((res) => {\n        if (res.data.success) {\n          this.loginStatus = false;\n          this.$router.push('/login');\n        } else {\n          // eslint-disable-next-line no-alert\n          alert(res.data.message);\n        }\n      });\n    },\n    loadingShow() {\n      this.isLoading = true;\n    },\n    loadingHide() {\n      this.isLoading = false;\n    },\n  },\n  created() {\n    this.checkLogin();\n  },\n};\n</script>\n","import { render } from \"./Index.vue?vue&type=template&id=fafdff1c\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/shino/Desktop/Shino/table/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}