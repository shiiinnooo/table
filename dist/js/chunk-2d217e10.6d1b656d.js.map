{"version":3,"sources":["webpack:///./src/views/Dashboard/index.vue","webpack:///./src/views/Dashboard/index.vue?cffb"],"names":["class","style","to","loginStatus","logout","data","methods","checkLogin","token","document","cookie","replace","this","$http","defaults","headers","common","Authorization","api","post","then","res","success","alert","message","$router","push","created","render"],"mappings":"0IACOA,MAAM,mB,GACJA,MAAM,O,GACJA,MAAM,2BAA2BC,MAAA,wB,GAChCD,MAAM,YAAYC,MAAA,gD,iBACqC,S,GAEtDD,MAAM,c,iBAKN,Q,iBASA,Q,GAIFA,MAAM,e,GACJA,MAAM,uB,SACgBA,MAAM,Q,oHA1BvC,eAgCM,MAhCN,EAgCM,CA/BJ,eA8BM,MA9BN,EA8BM,CA7BJ,eAqBM,MArBN,EAqBM,CApBJ,eAEK,KAFL,EAEK,CADH,eAA4E,GAA/DA,MAAM,kBAAkBE,GAAG,kB,yBAAiB,iBAAK,C,cAEhE,eAgBM,MAhBN,EAgBM,CAfJ,eAKC,GAJCA,GAAG,iBACHF,MAAM,4D,yBAEL,iBAAI,C,YAEP,eAQC,GAPCE,GAAG,eACHF,MAAM,2G,yBAKL,iBAAI,C,gBAIX,eAMM,MANN,EAMM,CALJ,eAGM,MAHN,EAGM,CAFQ,EAAAG,a,iBAAZ,eAAkD,OAAlD,EAAsC,U,sBACtC,eAA0E,UAAlEH,MAAM,iCAAkC,QAAK,8BAAE,EAAAI,QAAA,EAAAA,OAAA,sBAAQ,QAEjE,eAA2B,S,wBAOpB,GACbC,KADa,WAEX,MAAO,CACLF,aAAa,IAGjBG,QAAS,CACPC,WADO,WACM,WAELC,EAAQC,SAASC,OAAOC,QAAQ,+CAAgD,MACtF,GAAIH,EAAO,CACTI,KAAKC,MAAMC,SAASC,QAAQC,OAAOC,cAAgBT,EACnD,IAAMU,EAAE,UAAO,uCAAP,mBACRN,KAAKC,MAAMM,KAAKD,GAAKE,MAAK,SAACC,GACrBA,EAAIhB,KAAKiB,QACX,EAAKnB,aAAc,GAGnBoB,MAAMF,EAAIhB,KAAKmB,SACf,EAAKrB,aAAc,EACnB,EAAKsB,QAAQC,KAAK,mBAKtBH,MAAM,QACNX,KAAKT,aAAc,EACnBS,KAAKa,QAAQC,KAAK,WAGtBtB,OAxBO,WAwBE,WACDc,EAAE,UAAO,uCAAP,WACRN,KAAKC,MAAMM,KAAKD,GAAKE,MAAK,SAACC,GACrBA,EAAIhB,KAAKiB,SACX,EAAKnB,aAAc,EACnB,EAAKsB,QAAQC,KAAK,WAGlBH,MAAMF,EAAIhB,KAAKmB,cAKvBG,QA3Ca,WA4CXf,KAAKL,eC9ET,EAAOqB,OAASA,EAED","file":"js/chunk-2d217e10.6d1b656d.js","sourcesContent":["<template>\n  <div class=\"container-fluid\">\n    <div class=\"row\">\n      <div class=\"col-2 bg-dark text-white\" style=\"min-height: 100vh\">\n        <h1 class=\"fs-3 py-4\" style=\"font-weight: 600; letter-spacing: 1.5px\">\n          <router-link class=\"text-white fs-3\" to=\"/admin/product\">TAbLe</router-link>\n        </h1>\n        <div class=\"list-group\">\n          <router-link\n            to=\"/admin/product\"\n            class=\"list-group-item\n            bg-dark text-white border-0\"\n            >產品列表</router-link\n          >\n          <router-link\n            to=\"/admin/order\"\n            class=\"\n              list-group-item\n              bg-dark text-white\n              border-0\n            \"\n            >訂單管理</router-link\n          >\n        </div>\n      </div>\n      <div class=\"col-10 px-5\">\n        <div class=\"login text-end my-3\">\n          <span v-if=\"loginStatus\" class=\"px-2\">已登入 /</span>\n          <button class=\"btn btn-secondary rounded py-1\" @click=\"logout\">登出</button>\n        </div>\n        <router-view></router-view>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      loginStatus: false,\n    };\n  },\n  methods: {\n    checkLogin() {\n      // eslint-disable-next-line no-useless-escape\n      const token = document.cookie.replace(/(?:(?:^|.*;\\s*)token\\s*\\=\\s*([^;]*).*$)|^.*$/, '$1');\n      if (token) {\n        this.$http.defaults.headers.common.Authorization = token;\n        const api = `${process.env.VUE_APP_API}/api/user/check`;\n        this.$http.post(api).then((res) => {\n          if (res.data.success) {\n            this.loginStatus = true;\n          } else {\n            // eslint-disable-next-line no-alert\n            alert(res.data.message);\n            this.loginStatus = false;\n            this.$router.push('/login');\n          }\n        });\n      } else {\n        // eslint-disable-next-line no-alert\n        alert('尚未登入');\n        this.loginStatus = false;\n        this.$router.push('/login');\n      }\n    },\n    logout() {\n      const api = `${process.env.VUE_APP_API}/logout`;\n      this.$http.post(api).then((res) => {\n        if (res.data.success) {\n          this.loginStatus = false;\n          this.$router.push('/login');\n        } else {\n          // eslint-disable-next-line no-alert\n          alert(res.data.message);\n        }\n      });\n    },\n  },\n  created() {\n    this.checkLogin();\n  },\n};\n</script>\n","import { render } from \"./index.vue?vue&type=template&id=237227e6\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}